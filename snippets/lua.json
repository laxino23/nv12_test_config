{
  "Lua Class": {
    "prefix": "class",
    "body": [
      "local ${1:$TM_FILENAME_BASE} = {}",
      "${1:$TM_FILENAME_BASE}.__index = ${1:$TM_FILENAME_BASE}",
      "",
      "function ${1:$TM_FILENAME_BASE}.new(${2:args})",
      "\tlocal self = setmetatable({}, ${1:$TM_FILENAME_BASE})",
      "\t$0",
      "\treturn self",
      "end",
      "",
      "function ${1:$TM_FILENAME_BASE}:destroy()",
      "\t",
      "end",
      "",
      "return ${1:$TM_FILENAME_BASE}"
    ],
    "description": "创建一个 Lua 类模板"
  },
  "Function": {
    "prefix": "func",
    "body": ["function ${1:name}(${2:args})", "\t$0", "end"],
    "description": "定义一个函数"
  },
  "Local Function": {
    "prefix": "lfunc",
    "body": ["local function ${1:name}(${2:args})", "\t$0", "end"],
    "description": "定义一个局部函数"
  },
  "Method": {
    "prefix": "method",
    "body": [
      "function ${1:ClassName}:${2:methodName}(${3:args})",
      "\t$0",
      "end"
    ],
    "description": "定义一个类方法"
  },
  "If Statement": {
    "prefix": "if",
    "body": ["if ${1:condition} then", "\t$0", "end"],
    "description": "if 条件语句"
  },
  "If-Else Statement": {
    "prefix": "ife",
    "body": ["if ${1:condition} then", "\t$2", "else", "\t$0", "end"],
    "description": "if-else 条件语句"
  },
  "If-Elseif-Else Statement": {
    "prefix": "ifelif",
    "body": [
      "if ${1:condition} then",
      "\t$2",
      "elseif ${3:condition} then",
      "\t$4",
      "else",
      "\t$0",
      "end"
    ],
    "description": "if-elseif-else 条件语句"
  },
  "For Loop (Numeric)": {
    "prefix": "fori",
    "body": ["for ${1:i} = ${2:1}, ${3:10}, ${4:1} do", "\t$0", "end"],
    "description": "数值型 for 循环"
  },
  "For Loop (ipairs)": {
    "prefix": "forp",
    "body": ["for ${1:i}, ${2:v} in ipairs(${3:table}) do", "\t$0", "end"],
    "description": "使用 ipairs 遍历数组"
  },
  "For Loop (pairs)": {
    "prefix": "forpairs",
    "body": ["for ${1:k}, ${2:v} in pairs(${3:table}) do", "\t$0", "end"],
    "description": "使用 pairs 遍历表"
  },
  "While Loop": {
    "prefix": "while",
    "body": ["while ${1:condition} do", "\t$0", "end"],
    "description": "while 循环"
  },
  "Repeat-Until Loop": {
    "prefix": "repeat",
    "body": ["repeat", "\t$0", "until ${1:condition}"],
    "description": "repeat-until 循环"
  },
  "Require Module": {
    "prefix": "req",
    "body": ["local ${1:module} = require('${2:moduleName}')"],
    "description": "引入模块"
  },
  "Module Export": {
    "prefix": "module",
    "body": ["local M = {}", "", "$0", "", "return M"],
    "description": "模块导出模板"
  },
  "Print Debug": {
    "prefix": "pr",
    "body": ["print(${1:value})"],
    "description": "打印调试信息"
  },
  "Print with Format": {
    "prefix": "printf",
    "body": ["print(string.format('${1:%s}', ${2:value}))"],
    "description": "格式化打印"
  },
  "Table Insert": {
    "prefix": "tinsert",
    "body": ["table.insert(${1:table}, ${2:value})"],
    "description": "向表中插入元素"
  },
  "Table Remove": {
    "prefix": "tremove",
    "body": ["table.remove(${1:table}, ${2:index})"],
    "description": "从表中移除元素"
  },
  "Table Concat": {
    "prefix": "tconcat",
    "body": ["table.concat(${1:table}, '${2:,}')"],
    "description": "连接表中的字符串"
  },
  "Local Variable": {
    "prefix": "local",
    "body": ["local ${1:name} = ${2:value}"],
    "description": "定义局部变量"
  },
  "Pcall (Protected Call)": {
    "prefix": "pcall",
    "body": [
      "local success, result = pcall(function()",
      "\t$0",
      "end)",
      "if not success then",
      "\tprint('Error:', result)",
      "end"
    ],
    "description": "受保护的函数调用"
  },
  "Assert": {
    "prefix": "assert",
    "body": ["assert(${1:condition}, '${2:error message}')"],
    "description": "断言语句"
  },
  "String Format": {
    "prefix": "format",
    "body": ["string.format('${1:%s}', ${2:value})"],
    "description": "字符串格式化"
  },
  "Metatable": {
    "prefix": "meta",
    "body": [
      "local mt = {",
      "\t__index = function(t, k)",
      "\t\t$0",
      "\tend,",
      "\t__newindex = function(t, k, v)",
      "\t\t",
      "\tend",
      "}",
      "setmetatable(${1:table}, mt)"
    ],
    "description": "设置元表"
  },
  "Comment Block": {
    "prefix": "comment",
    "body": [
      "--[[",
      " * ${1:Description}",
      " * @param ${2:paramName} ${3:type} ${4:description}",
      " * @return ${5:type} ${6:description}",
      "]]"
    ],
    "description": "多行注释块"
  }
}
